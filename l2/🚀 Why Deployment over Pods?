Pods are ephemeral (short-lived). If one pod crashes → it won’t come back automatically.

Deployment = a higher-level controller that manages Pods.
Ensures desired replica count.
Provides self-healing (recreates pods if deleted).
Supports rolling updates & rollbacks.
Declarative: you define the state → K8s ensures it.

🔨 Creating a Deployment (Imperative)

kubectl create deployment nginx-deploy --image=nginx --replicas=3
Creates a Deployment named nginx-deploy with 3 nginx pods.

Check:

kubectl get deploy
kubectl get pods

🧾 Deployment YAML (Declarative)

Generated via:
kubectl create deployment sample --image=nginx --dry-run=client -o yaml > deploy.yaml


Key structure:
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
apiVersion: apps/v1
kind: Deployment
metadata:
  name: sample
spec:
  replicas: 3
  selector:
    matchLabels:
      app: sample
  template:
    metadata:
      labels:
        app: sample
    spec:
      containers:
      - name: nginx
        image: nginx
⚡ Note: spec.selector.matchLabels must match template.metadata.labels.
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
📈 Scaling
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
kubectl scale deployment nginx-deploy --replicas=4
kubectl edit deployment nginx-deploy   # edit YAML live

kubectl get deploy
kubectl describe deploy nginx-deploy
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

🔄 Rollouts

Restart deployment:
kubectl rollout restart deployment nginx-deploy


Check rollout status:
kubectl rollout status deployment nginx-deploy

View rollout history:
kubectl rollout history deployment nginx-deploy


Rollback:
kubectl rollout undo deployment nginx-deploy

🗑️ Deleting
kubectl delete deployment nginx-deploy
(Deletes deployment + all managed pods)

✅ Key takeaway:

Pod = basic unit of work.
Deployment = manages pods for high availability + updates.
ReplicaSet = internal object used by Deployment to keep replicas running.
You never manage ReplicaSets directly in most cases → Deployment handles it.
