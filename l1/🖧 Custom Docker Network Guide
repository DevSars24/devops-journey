üñß Custom Docker Network Guide

1Ô∏è‚É£ Introduction

Docker containers communicate via networks.
Different network drivers:

Driver	Scope	Description
üåâ bridge	Local	Default network for containers on a single host
üè† host	Local	Container shares the host network namespace
üñß macvlan	Local	Containers get real IPs on the LAN
üåê overlay	Multi-host	Connect containers across multiple hosts (Swarm mode)

2Ô∏è‚É£ Check Existing Networks ->

docker network ls

Output Example:
NETWORK ID     NAME      DRIVER    SCOPE
abcd1234       bridge    bridge    local
efgh5678       host      host      local
ijkl9012       none      null      local
üîπ Lists all networks
üîπ Shows network driver & scope

3Ô∏è‚É£ Create a Macvlan Network

docker network create -d macvlan \
  --subnet=192.168.1.0/24 \
  --gateway=192.168.1.1 \
  -o parent=eth0 \
  my-macvlan


Explanation Table:

Option	Meaning
-d macvlan	Use macvlan driver
--subnet	Network range for containers
--gateway	Gateway IP
-o parent=eth0	Host network interface (replace eth0 with your Linux interface)
my-macvlan	Name of the custom network

‚ö†Ô∏è Tip: On Windows Docker Desktop, check interface in WSL2:

wsl -d docker-desktop
ip link
4Ô∏è‚É£ Verify the Network
docker network inspect my-macvlan

Shows:
Subnet, gateway, connected containers, IPs.

5Ô∏è‚É£ Run Container on Custom Network

docker run -dit --name my-container --network my-macvlan alpine sh

Explanation Table:
Option	Meaning
-dit	Detached + Interactive + Terminal
--name my-container	Assign container name
--network my-macvlan	Connect to custom network
alpine sh	Use Alpine image & start shell

6Ô∏è‚É£ Test Connectivity
Inside container:

ping 192.168.1.1
‚úÖ Ping gateway
‚úÖ Ping other containers in the network by IP

Diagram:

[Host] 192.168.1.100
   ‚îÇ
   ‚îÇ macvlan network
   ‚ñº
[Container1] 192.168.1.101
[Container2] 192.168.1.102
Containers now have their own IPs on LAN! üåê

7Ô∏è‚É£ Cleanup

docker stop my-container
docker rm my-container
docker network rm my-macvlan
Stop and remove container

Remove custom network

8Ô∏è‚É£ Notes / Tips
‚ö†Ô∏è macvlan limitation: Containers may not talk directly to host. Use macvlan bridge workaround.

‚úÖ Always use Linux interface name from WSL2.

üîÑ Use docker network inspect to debug.
